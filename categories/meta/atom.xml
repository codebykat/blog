<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: meta | codebykat.blog]]></title>
  <link href="http://blog.codebykat.com/categories/meta/atom.xml" rel="self"/>
  <link href="http://blog.codebykat.com/"/>
  <updated>2013-05-20T11:23:06-07:00</updated>
  <id>http://blog.codebykat.com/</id>
  <author>
    <name><![CDATA[kat]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Three Octopress Tweaks]]></title>
    <link href="http://blog.codebykat.com/2013/05/20/three-octopress-tweaks/"/>
    <updated>2013-05-20T09:39:00-07:00</updated>
    <id>http://blog.codebykat.com/2013/05/20/three-octopress-tweaks</id>
    <content type="html"><![CDATA[<p>I’ve just updated <a href="http://octopress.org/">Octopress</a> to the latest and greatest version, including re-applying my various customizations.  So, now that I happen to have them all in one place, here are three quick ways I’ve improved the base Octopress install:</p>

<ul>
  <li><a href="http://blog.codebykat.com/2013/05/20/three-octopress-tweaks/#github-aside">Filter some repositories from GitHub sidebar</a></li>
  <li><a href="http://blog.codebykat.com/2013/05/20/three-octopress-tweaks/#pinboard-aside">Limit Pinboard sidebar to a specific tag</a></li>
  <li><a href="http://blog.codebykat.com/2013/05/20/three-octopress-tweaks/#archive-path">Move the Archive page to /archive</a></li>
</ul>

<!--more-->

<p>Allons-y!</p>

<p><a name="github-aside"></a></p>

<h2 id="filter-some-repositories-from-github-sidebar">Filter some repositories from GitHub sidebar</h2>

<p>If you’re hosting your Octopress blog on GitHub Pages, it’s kind of pointless to have that repository show up in the sidebar, especially since it doesn’t contain anything particularly interesting.</p>

<p>But you can also use this tweak to hide that secret project you’re working on… or that old, embarrassing one that never did work quite right.</p>

<figure class="code"><figcaption class="code-header"><span>_config.yml</span><a href="https://github.com/codebykat/blog/commit/6fad9a1a0342ef9a2424ea0b695677d844985f7f">link</a></figcaption></figure>
<div><div class="CodeRay">
  <div class="code"><pre><span class="line change"><span class="change">@@</span> -67,6 +67,7 <span class="change">@@</span></span>
     github_repo_count: 0
     github_show_profile_link: true
     github_skip_forks: true
<span class="line insert"><span class="insert">+</span>    githup_skip_repos: []  # list of repos to hide from the sidebar. ex: [blog, username.github.io, old_embarrassing_project]</span>
</pre></div>
</div>
</div>

<figure class="code"><figcaption class="code-header"><span>source/_includes/asides/github.html</span><a href="https://github.com/codebykat/blog/commit/6fad9a1a0342ef9a2424ea0b695677d844985f7f">link</a></figcaption></figure>
<p lang="diff">
~~~
@@ -21,6 +21,7 @@
             user: ‘{{site.github_user}}’,
             count: {{site.github_repo_count}},
             skip_forks: {{site.github_skip_forks}},
+            skip_repos: [ {% for repo in site.github_skip_repos %}”{{repo}}”{% unless forloop.last %}, {% endunless %}{% endfor %} ],
             target: ‘#gh_repos’
         });
     });
~~~</p>
<p></p>

<figure class="code"><figcaption class="code-header"><span>source/javascripts/github.js</span><a href="https://github.com/codebykat/blog/commit/6fad9a1a0342ef9a2424ea0b695677d844985f7f">link</a></figcaption></figure>
<div><div class="CodeRay">
  <div class="code"><pre><span class="change"><span class="change">@@</span> -21,6 +21,7 <span class="change">@@</span></span> var github = (function(){
           if (!data || !data.data) { return; }
           for (var i = 0; i &lt; data.data.length; i++) {
             if (options.skip_forks &amp;&amp; data.data[i].fork) { continue; }
<span class="line insert"><span class="insert">+</span>            if ( jQuery.inArray( data.data[i].name, options.skip_repos ) != -1) { continue; }</span>
             repos.push(data.data[i]);
           }
           if (options.count) { repos.splice(options.count); }
</pre></div>
</div>
</div>

<p><a name="pinboard-aside"></a></p>

<h2 id="limit-pinboard-sidebar-to-a-specific-tag">Limit Pinboard sidebar to a specific tag</h2>

<p>I bookmark a lot of things on <a href="http://pinboard.in">Pinboard</a>, most of which aren’t exactly technical in nature.  Here’s a quick change that lets you save bookmarks with a specific tag (I use “blog”) to show them on the sidebar.</p>

<p>And since we’re here anyway, may as well also change the header and loading text (I don’t know why, but I’ve never liked the word “linkroll”).</p>

<figure class="code"><figcaption class="code-header"><span>_config.yml</span><a href="https://github.com/codebykat/blog/commit/7718a6ce9d3a5b84dbc663547c878d26200842f0">link</a></figcaption></figure>
<div><div class="CodeRay">
  <div class="code"><pre>        # Pinboard
        pinboard_user:
        pinboard_count: 5
<span class="line insert"><span class="insert">+</span>       pinboard_tag: blog</span>
</pre></div>
</div>
</div>

<figure class="code"><figcaption class="code-header"><span>source/_includes/asides/pinboard.html</span><a href="https://github.com/codebykat/blog/commit/7718a6ce9d3a5b84dbc663547c878d26200842f0">link</a></figcaption></figure>
<div><div class="CodeRay">
  <div class="code"><pre><span class="line comment"></span>
<span class="line change"><span class="change">@@</span> -1,13 +1,14 <span class="change">@@</span></span>
 &lt;section&gt;
<span class="line delete"><span class="delete">-</span>  &lt;h1&gt;My Pinboard&lt;/h1&gt;</span>
<span class="line delete"><span class="delete">-</span>  &lt;ul id=&quot;pinboard_linkroll&quot;&gt;Fetching linkroll...&lt;/ul&gt;</span>
<span class="line delete"><span class="delete">-</span>  &lt;p&gt;&lt;a href=&quot;http://pinboard.in/u:{{ site.pinboard_user }}&quot;&gt;My Pinboard Bookmarks &amp;raquo;&lt;/a&gt;&lt;/p&gt;</span>
<span class="line insert"><span class="insert">+</span>  &lt;h1&gt;Bookmarks&lt;/h1&gt;</span>
<span class="line insert"><span class="insert">+</span>  &lt;ul id=&quot;pinboard_linkroll&quot;&gt;Fetching bookmarks...&lt;/ul&gt;</span>
<span class="line insert"><span class="insert">+</span>  &lt;p&gt;&lt;a href=&quot;http://pinboard.in/u:{{ site.pinboard_user }}/t:{{ site.pinboard_tag }}&quot;&gt;see more &amp;raquo;&lt;/a&gt;&lt;/p&gt;</span>
 &lt;/section&gt;
 &lt;script type=&quot;text/javascript&quot;&gt;
   var linkroll = 'pinboard_linkroll'; //id target for pinboard list
   var pinboard_user = &quot;{{ site.pinboard_user }}&quot;; //id target for pinboard list
   var pinboard_count = {{ site.pinboard_count }}; //id target for pinboard list
<span class="line insert"><span class="insert">+</span>  var pinboard_tag = &quot;{{ site.pinboard_tag }}&quot;;</span>
   (function(){
     var pinboardInit = document.createElement('script');
     pinboardInit.type = 'text/javascript';
<span class="line comment"></span>
</pre></div>
</div>
</div>

<figure class="code"><figcaption class="code-header"><span>source/javascript/pinboard.js</span><a href="https://github.com/codebykat/blog/commit/7718a6ce9d3a5b84dbc663547c878d26200842f0">link</a></figcaption></figure>
<div><div class="CodeRay">
  <div class="code"><pre><span class="change"><span class="change">@@</span> -41,16 +41,16 <span class="change">@@</span></span> function Pinboard_Linkroll() {
     if (it.n) {
       str += &quot;&lt;span class=\&quot;pin-description\&quot;&gt;&quot; + this.cook(it.n) + &quot;&lt;/span&gt;\n&quot;;
     }
<span class="line delete"><span class="delete">-</span>    if (it.t.length &gt; 0) {</span>
<span class="line delete"><span class="delete">-</span>      for (var i = 0; i &lt; it.t.length; i++) {</span>
<span class="line delete"><span class="delete">-</span>        var tag = it.t[i];</span>
<span class="line delete"><span class="delete">-</span>        str += &quot; &lt;a class=\&quot;pin-tag\&quot; href=\&quot;https://pinboard.in/u:&quot;+ this.cook(it.a) + &quot;/t:&quot; + this.cook(tag) + &quot;\&quot;&gt;&quot; + this.cook(tag).replace(/^\s+|\s+$/g, '') + &quot;&lt;/a&gt; &quot;;</span>
<span class="line delete"><span class="delete">-</span>      }</span>
<span class="line delete"><span class="delete">-</span>    }</span>
     str += &quot;&lt;/p&gt;&lt;/li&gt;\n&quot;;
     return str;
   }
 }
 Pinboard_Linkroll.prototype = new Pinboard_Linkroll();
<span class="line delete"><span class="delete">-</span>pinboardNS_fetch_script(&quot;http<span class="eyecatcher">s://feeds.pinboard.in/json/v1/u:&quot;+pinboard_user</span>+&quot;/?cb=pinboardNS_show_bmarks\&amp;count=&quot;+pinboard_count);</span>
<span class="line insert"><span class="insert">+</span>pinboardNS_fetch_script(&quot;http<span class="eyecatcher">://feeds.pinboard.in/json/u:&quot;+pinboard_user+&quot;/t:&quot;+pinboard_tag</span>+&quot;/?cb=pinboardNS_show_bmarks\&amp;count=&quot;+pinboard_count);</span>
</pre></div>
</div>
</div>

<p>If you want to do this for Delicious, it’s <a href="https://github.com/codebykat/blog/commit/2a7b4ebc811a07dd89fca14ca158d4e96bbb4b13#source/_includes/asides/delicious.html">even easier</a>.</p>

<p><a name="archive-path"></a></p>

<h2 id="move-the-archive-page-to-archive">Move the Archive page to /archive</h2>

<p>Even if you have Octopress set to use the root directory, it defaults to putting your post archive under /blog/archive.  I found the fix in <a href="http://hackingoff.com/blog/jekyll-octopress-in-a-subdirectory-removing-redundant-slash-blog-path-to-archives-and-categories/">this post</a>:</p>

<ul>
  <li>Move source/blog/archive/index.html to source/archive/index.html.</li>
  <li>Update navigation links accordingly, in source/_includes/custom/navigation.html and source/index.html.  (<em>Note: the example given is inconsistent; whether you’re using “archive” or “archives”, just ensure all the links match the directory name!</em>)</li>
</ul>

<p>I was originally planning to wrap this post up with a mention of prettifying code snippets, but that turned out to be a bit of a project, so I think it deserves its own post.</p>
]]></content>
  </entry>
  
</feed>
